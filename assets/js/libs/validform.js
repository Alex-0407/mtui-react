/*! validform v5.3 | haovei@qq.com */
define(function(require){var a=require("libs/jquery");return function(a,b,c){function d(b,c){var d=(a(window).width()-b.outerWidth())/2,e=(a(window).height()-b.outerHeight())/2,e=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(e>0?e:0);b.css({left:d}).animate({top:e},{duration:c,queue:!1})}function e(){return 0!==a("#validform_msg").length?!1:(g=a('<div id="validform_msg"><div class="validform_title">'+i.tit+'<a class="validform_close" href="javascript:void(0);">&chi;</a></div><div class="validform_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body"),g.find("a.validform_close").click(function(){return g.hide(),h=!0,f&&f.focus().addClass("validform_error"),!1}).focus(function(){this.blur()}),void a(window).bind("scroll resize",function(){!h&&d(g,400)}))}var f=null,g=null,h=!0,i={tit:"提示信息",w:{"*":"不能为空！","*6-16":"请填写6到16位任意字符！",n:"请填写数字！","n6-16":"请填写6到16位数字！",s:"不能输入特殊字符！","s6-18":"请填写6到18位字符！",p:"请填写邮政编码！",m:"请填写手机号码！",e:"邮箱地址格式不对！",url:"请填写网址！"},def:"请填写正确信息！",undef:"datatype未定义！",reck:"两次输入的内容不一致！",r:"通过信息验证！",c:"正在检测信息…",s:"请填入信息！",s_auto:"请{填写}{0}！",v:"所填信息没有经过验证，请稍后…",p:"正在提交数据…"};a.Tipmsg=i;var j=function(b,d,f){var d=a.extend({},j.defaults,d);d.datatype&&a.extend(j.util.dataType,d.datatype);var g=this;return g.tipmsg={w:{}},g.settings=d,g.forms=b,g.objects=[],f===!0?!1:(b.each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this);this.validform_status="normal",b.data("tipmsg",g.tipmsg),b.on("blur","[datatype]",function(){var a=arguments[1];j.util.check.call(this,b,g,a)}),j.util.enhance.call(b,d.tiptype,d.usePlugin,d.tipSweep),d.btnSubmit&&b.find(d.btnSubmit).bind("click",function(){return b.trigger("submit"),!1}),b.submit(function(){var a=j.util.submitForm.call(b,d);return a===c&&(a=!0),a}),b.find("[type='reset']").add(b.find(d.btnReset)).bind("click",function(){j.util.resetForm.call(b)})}),void((1==d.tiptype||(2==d.tiptype||3==d.tiptype)&&d.ajaxPost)&&e()))};j.defaults={tiptype:1,tipSweep:!1,showAllError:!1,postonce:!1,ajaxPost:!1},j.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|^14[0-9]{9}$|^15[0-9]{9}$|^17[0-9]{9}$|^18[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,zh:/^[\u4E00-\u9FA5\uf900-\ufa2d]+$/,"zh1-6":/^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/,sfz:function(a){function b(a){var b=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var c=0;17>c;c++)b+=e[c]*a[c];return valCodePosition=b%11,a[17]==f[valCodePosition]?!0:!1}function c(a){var b=a.substring(6,10),c=a.substring(10,12),d=a.substring(12,14),e=new Date(b,parseFloat(c)-1,parseFloat(d));return e.getFullYear()!=parseFloat(b)||e.getMonth()!=parseFloat(c)-1||e.getDate()!=parseFloat(d)?!1:!0}function d(a){var b=a.substring(6,8),c=a.substring(8,10),d=a.substring(10,12),e=new Date(b,parseFloat(c)-1,parseFloat(d));return e.getYear()!=parseFloat(b)||e.getMonth()!=parseFloat(c)-1||e.getDate()!=parseFloat(d)?!1:!0}var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],f=[1,0,10,9,8,7,6,5,4,3,2];if(15==a.length)return d(a);if(18==a.length){var g=a.split("");return c(a)&&b(g)?!0:!1}return!1}},toString:Object.prototype.toString,getValue:function(b){var d,e=this;return b.is(":radio")?(d=e.find(":radio[name='"+b.attr("name")+"']:checked").val(),d=d===c?"":d):b.is(":checkbox")?(d="",e.find(":checkbox[name='"+b.attr("name")+"']:checked").each(function(){d+=a(this).val()+","}),d=d===c?"":d):d=b.val(),a.trim(d)},isEmpty:function(b){return""===b||b===a.trim(this.attr("tip"))},enhance:function(b,c,d,e){var f=this;f.find("[datatype]").each(function(){2==b?0==a(this).parent().next().find(".validform_checktip").length&&a(this).parent().next().append("<span class='validform_checktip' />"):(3==b||4==b)&&0==a(this).siblings(".validform_checktip").length&&a(this).parent().append("<span class='validform_checktip' />")}),f.find("input[recheck]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this),c=f.find("input[name='"+a(this).attr("recheck")+"']");c.bind("keyup",function(){if(c.val()==b.val()&&""!=c.val()){if(c.attr("tip")&&c.attr("tip")==c.val())return!1;b.trigger("blur")}}).bind("blur",function(){if(c.val()!=b.val()&&""!=b.val()){if(b.attr("tip")&&b.attr("tip")==b.val())return!1;b.trigger("blur")}})}),f.find("[tip]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this).attr("tip"),c=a(this).attr("altercss");a(this).focus(function(){a(this).val()==b&&(a(this).val(""),c&&a(this).removeClass(c))}).blur(function(){""===a.trim(a(this).val())&&(a(this).val(b),c&&a(this).addClass(c))})}),f.find(":checkbox[datatype],:radio[datatype]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this),c=b.attr("name");f.find("[name='"+c+"']").filter(":checkbox,:radio").bind("click",function(){setTimeout(function(){b.trigger("blur")},0)})}),f.find("select[datatype][multiple]").bind("click",function(){var b=a(this);setTimeout(function(){b.trigger("blur")},0)}),j.util.usePlugin.call(f,c,b,d,e)},usePlugin:function(b,c,d,e){var f=this,b=b||{};if(f.find("input[plugin='swfupload']").length&&"undefined"!=typeof swfuploadhandler){var g={custom_settings:{form:f,showmsg:function(a,b){j.util.showmsg.call(f,a,c,{obj:f.find("input[plugin='swfupload']"),type:b,sweep:d})}}};g=a.extend(!0,{},b.swfupload,g),f.find("input[plugin='swfupload']").each(function(b){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",a(this).val(""),void swfuploadhandler.init(g,b))})}if(f.find("input[plugin='datepicker']").length&&a.fn.datePicker&&(b.datepicker=b.datepicker||{},b.datepicker.format&&(Date.format=b.datepicker.format,delete b.datepicker.format),b.datepicker.firstDayOfWeek&&(Date.firstDayOfWeek=b.datepicker.firstDayOfWeek,delete b.datepicker.firstDayOfWeek),f.find("input[plugin='datepicker']").each(function(){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",b.datepicker.callback&&a(this).bind("dateSelected",function(){var c=new Date(a.event._dpCache[this._dpId].getSelected()[0]).asString(Date.format);b.datepicker.callback(c,this)}),void a(this).datePicker(b.datepicker))})),f.find("input[plugin*='passwordStrength']").length&&a.fn.passwordStrength&&(b.passwordstrength=b.passwordstrength||{},b.passwordstrength.showmsg=function(a,b,e){j.util.showmsg.call(f,b,c,{obj:a,type:e,sweep:d})},f.find("input[plugin='passwordStrength']").each(function(){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",void a(this).passwordStrength(b.passwordstrength))})),"addRule"!=e&&b.jqtransform&&a.fn.jqTransSelect){var h=function(b){var c=a(".jqTransformSelectWrapper ul:visible");c.each(function(){var c=a(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);b&&c.oLabel&&c.oLabel.get(0)==b.get(0)||a(this).hide()})},i=function(b){0===a(b.target).parents(".jqTransformSelectWrapper").length&&h(a(b.target))},k=function(){a(document).mousedown(i)};b.jqtransform.selector?(f.find(b.jqtransform.selector).filter('input:submit, input:reset, input[type="button"]').jqTransInputButton(),f.find(b.jqtransform.selector).filter("input:text, input:password").jqTransInputText(),f.find(b.jqtransform.selector).filter("input:checkbox").jqTransCheckBox(),f.find(b.jqtransform.selector).filter("input:radio").jqTransRadio(),f.find(b.jqtransform.selector).filter("textarea").jqTransTextarea(),f.find(b.jqtransform.selector).filter("select").length>0&&(f.find(b.jqtransform.selector).filter("select").jqTransSelect(),k())):f.jqTransform(),f.find(".jqTransformSelectWrapper").find("li a").click(function(){a(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(a){var b,c=this,d=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g,e=c.siblings(".validform_label").text()||c.siblings().find(".validform_label").text()||c.parent().siblings(".validform_label").text()||c.parent().siblings().find(".validform_label").text();return e=e.match(d),e?(e=e[0].replace(/\s(?![a-zA-Z])/g,""),b=i.s_auto.replace(/\{0\}/,e),b=c.attr("recheck")?b.replace(/\{(.+)\}/,""):b.replace(/\{(.+)\}/,"$1")):b=a.data("tipmsg").s||i.s,c.attr("nullmsg",b),b},getErrormsg:function(a,b,c){var d,e=/^(.+?)((\d+)-(\d+))?$/,f=/^(.+?)(\d+)-(\d+)$/,g=/(.*?)\d+(.+?)\d+(.*)/,h=b.match(e);if("recheck"==c)return d=a.data("tipmsg").reck||i.reck;if(h[0]in i.w)return a.data("tipmsg").w[h[0]]||i.w[h[0]];for(var j in i.w)if(-1!=j.indexOf(h[1])&&f.test(j))return d=(a.data("tipmsg").w[j]||i.w[j]).replace(g,"$1"+h[3]+"$2"+h[4]+"$3"),i.w[h[0]]=d,d;return a.data("tipmsg").def||i.def},_regcheck:function(a,b,d,e){var e=e,f=null,g=!1,h=/\/.+\//g,k=/^(.+?)(\d+)-(\d+)$/,l=3;if(h.test(a)){var m=a.match(h)[0].slice(1,-1),n=a.replace(h,""),o=RegExp(m,n);g=o.test(b)}else if("[object Function]"==j.util.toString.call(j.util.dataType[a]))g=j.util.dataType[a](b,d,e,j.util.dataType),g===!0||g===c?g=!0:(f=g,g=!1);else{if(!(a in j.util.dataType)){var p,q=a.match(k);if(q){for(var r in j.util.dataType)if(p=r.match(k),p&&q[1]===p[1]){var s=j.util.dataType[r].toString(),n=s.match(/\/[mgi]*/g)[1].replace("/",""),t=new RegExp("\\{"+p[2]+","+p[3]+"\\}","g");s=s.replace(/\/[mgi]*/g,"/").replace(t,"{"+q[2]+","+q[3]+"}").replace(/^\//,"").replace(/\/$/,""),j.util.dataType[a]=new RegExp(s,n);break}}else g=!1,f=e.data("tipmsg").undef||i.undef}"[object RegExp]"==j.util.toString.call(j.util.dataType[a])&&(g=j.util.dataType[a].test(b))}if(g){if(l=2,f=d.attr("sucmsg")||e.data("tipmsg").r||i.r,d.attr("recheck")){var u=e.find("input[name='"+d.attr("recheck")+"']:first");b!=u.val()&&(g=!1,l=3,f=d.attr("errormsg")||j.util.getErrormsg.call(d,e,a,"recheck"))}}else f=f||d.attr("errormsg")||j.util.getErrormsg.call(d,e,a),j.util.isEmpty.call(d,b)&&(f=d.attr("nullmsg")||j.util.getNullmsg.call(d,e));return{passed:g,type:l,info:f}},regcheck:function(a,b,c){var d=this,e=null;if(c.attr("validate-ignore")==c.val())return{passed:!0,type:2,info:c.attr("sucmsg")||d.data("tipmsg").r||i.r};if("ignore"===c.attr("ignore")&&j.util.isEmpty.call(c,b))return c.data("cked")&&(e=""),{passed:!0,type:4,info:e};c.data("cked","cked");for(var f,g=j.util.parseDatatype(a),h=0;h<g.length;h++){for(var k=0;k<g[h].length&&(f=j.util._regcheck(g[h][k],b,c,d),f.passed);k++);if(f.passed)break}return f},parseDatatype:function(a){var b=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,c=a.match(b),d=a.replace(b,"").replace(/\s*/g,"").split(""),e=[],f=0;e[0]=[],e[0].push(c[0]);for(var g=0;g<d.length;g++)"|"==d[g]&&(f++,e[f]=[]),e[f].push(c[g+1]);return e},showmsg:function(b,e,f,i){if(b!=c&&("bycheck"!=i||!f.sweep||!f.obj||f.obj.is(".validform_error"))){if(a.extend(f,{curform:this}),"function"==typeof e)return void e(b,f,j.util.cssctl);(1==e||"byajax"==i&&4!=e)&&g.find(".validform_info").html(b),(1==e&&"bycheck"!=i&&2!=f.type||"byajax"==i&&4!=e)&&(h=!1,g.find(".iframe").css("height",g.outerHeight()),g.show(),d(g,100)),2==e&&f.obj&&(f.obj.parent().next().find(".validform_checktip").html(b),j.util.cssctl(f.obj.parent().next().find(".validform_checktip"),f.type)),3!=e&&4!=e||!f.obj||(f.obj.siblings(".validform_checktip").html(b),j.util.cssctl(f.obj.siblings(".validform_checktip"),f.type))}},cssctl:function(a,b){switch(b){case 1:a.removeClass("validform_right validform_wrong").addClass("validform_checktip validform_loading");break;case 2:a.removeClass("validform_wrong validform_loading").addClass("validform_checktip validform_right");break;case 4:a.removeClass("validform_right validform_wrong validform_loading").addClass("validform_checktip");break;default:a.removeClass("validform_right validform_loading").addClass("validform_checktip validform_wrong")}},getQuery:function(a,b){var c=a.indexOf("?");return-1==c||b?{query:"",url:a}:{query:a.substring(c+1)+"&",url:a.substring(0,c)}},check:function(c,d,e,g){var h=d.settings,e=e||"",k=a(this),l=j.util.getValue.call(c,k);if(h.ignoreHidden&&k.is(":hidden")||"dataIgnore"===k.data("dataIgnore"))return!0;if(h.dragonfly&&!k.data("cked")&&j.util.isEmpty.call(a(this),l)&&"ignore"!=k.attr("ignore"))return!1;var m=j.util.regcheck.call(c,k.attr("datatype"),l,k);if(l==this.validform_lastval&&!k.attr("recheck")&&""==e)return m.passed?!0:!1;if(this.validform_lastval=l,f=k,!m.passed)return j.util.abort.call(k[0]),g||(j.util.showmsg.call(c,m.info,h.tiptype,{obj:a(this),type:m.type,sweep:h.tipSweep},"bycheck"),!h.tipSweep&&k.addClass("validform_error")),!1;if(a(this).attr("validate-ajax")&&!j.util.isEmpty.call(a(this),l)&&!g){var n=a(this);if(n[0].validform_subpost="postform"==e?"postform":"","posting"===n[0].validform_valid&&l==n[0].validform_ckvalue)return"ajax";n[0].validform_valid="posting",n[0].validform_ckvalue=l,j.util.showmsg.call(c,d.tipmsg.c||i.c,h.tiptype,{obj:n,type:1,sweep:h.tipSweep},"bycheck"),j.util.abort.call(k[0]);var o=c[0].validform_config||{};o=o.ajaxurl||{};var p=j.util.getQuery.call(b,n.attr("validate-ajax"),/get/i.test(o.type)),q={type:"POST",cache:!1,url:p.url,data:p.query+a(this).attr("name")+"="+encodeURIComponent(l),success:function(a){a.status?(n[0].validform_valid="true",a.info=a.info||a.message,a.info&&n.attr("sucmsg",a.info),j.util.showmsg.call(c,n.attr("sucmsg")||d.tipmsg.r||i.r,h.tiptype,{obj:n,type:2,sweep:h.tipSweep},"bycheck"),k.removeClass("validform_error"),f=null,"postform"==n[0].validform_subpost&&c.trigger("submit")):(a.info=a.info||a.message,n[0].validform_valid=a.info,j.util.showmsg.call(c,a.info,h.tiptype,{obj:n,type:3,sweep:h.tipSweep}),k.addClass("validform_error")),k[0].validform_ajax=null},error:function(a){if("parsererror"==a.statusText)return o.success("y"==a.responseText?{status:"y"}:{status:"n",info:a.responseText}),!1;if("abort"!==a.statusText){var b="status: "+a.status+"; statusText: "+a.statusText;j.util.showmsg.call(c,b,h.tiptype,{obj:n,type:3,sweep:h.tipSweep}),k.addClass("validform_error")}return n[0].validform_valid=a.statusText,k[0].validform_ajax=null,!0}};if(o.success){var r=o.success;o.success=function(a){q.success(a),r(a,n)}}if(o.error){var s=o.error;o.error=function(a){q.error(a)&&s(a,n)}}return o=a.extend({},q,o,{dataType:"json"}),k[0].validform_ajax=a.ajax(o),"ajax"}return a(this).attr("validate-ajax")&&j.util.isEmpty.call(a(this),l)&&(j.util.abort.call(k[0]),k[0].validform_valid="true"),g||(j.util.showmsg.call(c,m.info,h.tiptype,{obj:a(this),type:m.type,sweep:h.tipSweep},"bycheck"),k.removeClass("validform_error")),f=null,!0},submitForm:function(b,c,d,e,g){var h=this;if("posting"===h[0].validform_status)return!1;if(b.postonce&&"posted"===h[0].validform_status)return!1;var k=b.beforeCheck&&b.beforeCheck(h);if(k===!1)return!1;var l,m=!0;if(h.find("[datatype]").each(function(){if(c)return!1;if("force"!=a(this).attr("ignore")&&(b.ignoreHidden&&a(this).is(":hidden")||"dataIgnore"===a(this).data("dataIgnore")))return!0;var d,e=j.util.getValue.call(h,a(this));if(f=d=a(this),l=j.util.regcheck.call(h,a(this).attr("datatype"),e,a(this)),!l.passed)return j.util.showmsg.call(h,l.info,b.tiptype,{obj:a(this),type:l.type,sweep:b.tipSweep}),d.addClass("validform_error"),b.showAllError?(m&&(m=!1),!0):(d.focus(),m=!1,!1);if(a(this).attr("validate-ajax")&&!j.util.isEmpty.call(a(this),e)){if("true"!==this.validform_valid){var g=a(this);return j.util.showmsg.call(h,h.data("tipmsg").v||i.v,b.tiptype,{obj:g,type:3,sweep:b.tipSweep}),d.addClass("validform_error"),setTimeout(function(){g.trigger("blur",["postform"])},1500),b.showAllError?(m&&(m=!1),!0):(m=!1,!1)}}else a(this).attr("validate-ajax")&&j.util.isEmpty.call(a(this),e)&&(j.util.abort.call(this),this.validform_valid="true");j.util.showmsg.call(h,l.info,b.tiptype,{obj:a(this),type:l.type,sweep:b.tipSweep}),d.removeClass("validform_error"),f=null}),b.showAllError&&h.find(".validform_error:first").focus(),m){var n=b.beforeSubmit&&b.beforeSubmit(h);if(n===!1)return!1;h[0].validform_status="posting";var o=h[0].validform_config||{};if(!b.ajaxPost&&"ajaxPost"!==e){b.postonce||(h[0].validform_status="normal");var d=d||o.url;return d&&h.attr("action",d),b.callback&&b.callback(h)}var p=o.ajaxpost||{};if(p.url=d||p.url||o.url||h.attr("action"),p.success||p.error||j.util.showmsg.call(h,h.data("tipmsg").p||i.p,b.tiptype,{obj:h,type:1,sweep:b.tipSweep},"byajax"),g?p.async=!1:g===!1&&(p.async=!0),p.success){var q=p.success;p.success=function(a){b.callback&&b.callback(a),h[0].validform_ajax=null,h[0].validform_status="y"===a.status?"posted":"normal",q(a,h)}}if(p.error){var r=p.error;p.error=function(a){b.callback&&b.callback(a),h[0].validform_status="normal",h[0].validform_ajax=null,r(a,h)}}var s={type:"POST",async:!0,data:h.serializeArray(),success:function(a){"y"===a.status?(h[0].validform_status="posted",j.util.showmsg.call(h,a.info,b.tiptype,{obj:h,type:2,sweep:b.tipSweep},"byajax")):(h[0].validform_status="normal",j.util.showmsg.call(h,a.info,b.tiptype,{obj:h,type:3,sweep:b.tipSweep},"byajax")),b.callback&&b.callback(a),h[0].validform_ajax=null},error:function(a){var c="status: "+a.status+"; statusText: "+a.statusText;j.util.showmsg.call(h,c,b.tiptype,{obj:h,type:3,sweep:b.tipSweep},"byajax"),b.callback&&b.callback(a),h[0].validform_status="normal",h[0].validform_ajax=null}};p=a.extend({},s,p,{dataType:"json"}),h[0].validform_ajax=a.ajax(p)}return!1},resetForm:function(){var a=this;a.each(function(){this.reset(),this.validform_status="normal"}),a.find(".validform_right").text(""),a.find(".passwordStrength").children().removeClass("bgStrength"),a.find(".validform_checktip").removeClass("validform_wrong validform_right validform_loading"),a.find(".validform_error").removeClass("validform_error"),a.find("[datatype]").removeData("cked").removeData("dataIgnore"),a.eq(0).find("input:first").focus()},abort:function(){this.validform_ajax&&this.validform_ajax.abort()}},a.Datatype=j.util.dataType,j.prototype={dataType:j.util.dataType,eq:function(b){var c=this;return b>=c.forms.length?null:(b in c.objects||(c.objects[b]=new j(a(c.forms[b]).get(),c.settings,!0)),c.objects[b])},resetStatus:function(){var b=this;return a(b.forms).each(function(){this.validform_status="normal"}),this},setStatus:function(b){var c=this;return a(c.forms).each(function(){this.validform_status=b||"posting"}),this},getStatus:function(){var b=this,c=a(b.forms)[0].validform_status;return c},ignore:function(b){var c=this,b=b||"[datatype]";return a(c.forms).find(b).each(function(){a(this).data("dataIgnore","dataIgnore").removeClass("validform_error")}),this},unignore:function(b){var c=this,b=b||"[datatype]";return a(c.forms).find(b).each(function(){a(this).removeData("dataIgnore")}),this},addRule:function(b){for(var c=this,b=b||[],d=0;d<b.length;d++){var e=a(c.forms).find(b[d].ele);for(var f in b[d])"ele"!==f&&e.attr(f,b[d][f])}return a(c.forms).each(function(){var b=a(this);j.util.enhance.call(b,c.settings.tiptype,c.settings.usePlugin,c.settings.tipSweep,"addRule")}),this},ajaxPost:function(b,c,d){var f=this;return(1==f.settings.tiptype||2==f.settings.tiptype||3==f.settings.tiptype)&&e(),j.util.submitForm.call(a(f.forms[0]),f.settings,b,d,"ajaxPost",c),this},submitForm:function(b,d){var e=this,f=j.util.submitForm.call(a(e.forms[0]),e.settings,b,d);return f===c&&(f=!0),f===!0&&e.forms[0].submit(),this},resetForm:function(){var b=this;return j.util.resetForm.call(a(b.forms)),this},abort:function(){var b=this;return a(b.forms).each(function(){j.util.abort.call(this)}),this},check:function(b,c){var c=c||"[datatype]",d=this,e=a(d.forms),f=!0;return e.find(c).each(function(){j.util.check.call(this,e,d,"",b)||(f=!1)}),f},config:function(b){var c=this;return b=b||{},a(c.forms).each(function(){this.validform_config=a.extend(!0,this.validform_config,b)}),this}},a.fn.validform=function(a){return new j(this,a)},a.Showmsg=function(a){e(),j.util.showmsg.call(b,a,1,{})},a.Hidemsg=function(){g.hide(),h=!0}}(a,window),a});